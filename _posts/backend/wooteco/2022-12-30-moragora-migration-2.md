---
layout: post
title: "마지막 미션, 모라고라(체크메이트) 마이그레이션 (2)"
subtitle: "..."
date: 2022-12-30 19:00:00 +0900
categories: backend
tags: wooteco
comments: true
published: true
---

저번에 마이그레이션하면서 쓰디 쓴 맛을 많이 맛보았다...

그러면서 깨닫거나 전략을 수정한 것을 기록하였다.

## 변경 사항

### Docker 포기

본인도 그렇고 주변 지인에게 물어본 결과 도커는 생각보다 많은 메모리를 사용했다. 

AWS에서 제공되는 무료 티어 스펙상 CPU는 괜찮으나 메모리가 1GiB 밖에 되지 않아서 아껴 써야 했다...

따라서 도커를 포기했다.

### 계~속해서 실패했던 HTTPS

분명 옆에 있던 팀원이 30분가량 적용하는 것을 보고 쉽게 접근했던 것 같다.

분명 비슷하게 적용한 것 같은데... 나의 경우 잘 되지 않았다.

문제는 크게 2가지를 꼽을 수 있다.

1. **443 port 허용 하지 않음**

기초적으로 체크해야했던 사항인데 ec2 SG 정책에 443을 허용 안 했던 것 같다. ㅠㅠ 난 바보다.

2. **ufw 적용시, 22번 Port를 허용하지 않음**

가장 중요한 내용이다! 잘못하다간 서버에 두 번 다시 접속 못할 수 있다!!

앞에 있는 내용이야 언제든 재시도를 할 수 있지만 이건 그렇지 않다!

ufw 를 활성화(`ufw enable`) 후 `ufw status`로 확인해서 SSH가 허용되었는 지를 체크해야 한다!

그렇지 않을 경우 터미널로 접속할 수 없다!!

